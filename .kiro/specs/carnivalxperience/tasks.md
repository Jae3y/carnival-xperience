# Implementation Plan

- [x] 1. Project Setup and Core Infrastructure
  - [x] 1.1 Initialize Next.js 14 project with TypeScript, Tailwind CSS, and App Router

    - Create project with `create-next-app` using TypeScript and Tailwind
    - Configure `tsconfig.json` with strict mode
    - Set up path aliases in `tsconfig.json`
    - _Requirements: 11.1_

  - [x] 1.2 Install and configure core dependencies

    - Install Supabase client libraries (@supabase/supabase-js, @supabase/ssr)
    - Install UI dependencies (shadcn/ui components, lucide-react)
    - Install animation libraries (gsap, framer-motion)
    - Install form handling (react-hook-form, zod, @hookform/resolvers)
    - _Requirements: All_
  - [x] 1.3 Set up Supabase client configuration


    - Create `lib/supabase/client.ts` for browser client
    - Create `lib/supabase/server.ts` for server components
    - Create `lib/supabase/middleware.ts` for auth middleware
    - Configure environment variables
    - _Requirements: 10.1, 10.2_

  - [x] 1.4 Create base TypeScript types and interfaces

    - Create `types/events.ts` with Event, EventCategory types
    - Create `types/hotels.ts` with Hotel, RoomType, HotelBooking types
    - Create `types/users.ts` with UserProfile, EmergencyContact types
    - Create `types/safety.ts` with LocationShare, FamilyGroup types
    - _Requirements: All_
  - [x] 1.5 Set up testing infrastructure
    - Install fast-check for property-based testing
    - Install Jest and React Testing Library
    - Configure Jest with TypeScript support
    - Create test utilities and custom matchers
    - _Requirements: All_



- [x] 2. Database Schema and Migrations




  - [x] 2.1 Create initial Supabase migration for core tables




    - Create `user_profiles` table with all fields
    - Create `events` table with categories, location, and metadata
    - Create `hotels` table with room types and amenities
    - Create `hotel_bookings` table with payment tracking
    - _Requirements: 1.1, 2.1, 10.1_

  - [x] 2.2 Create migration for safety and community tables

    - Create `safety_contacts` table
    - Create `location_shares` table with geofencing
    - Create `family_groups` and `family_members` tables
    - Create `lost_found` table with AI matching fields
    - Create `incident_reports` table
    - _Requirements: 5.1, 5.3, 5.4, 6.1, 20.1_

  - [x] 2.3 Create migration for social and gamification tables

    - Create `user_posts` table with stories support
    - Create `post_likes` and `post_comments` tables
    - Create `badges` and `user_badges` tables
    - Create `challenges` and `user_challenges` tables
    - Create `meetups` and `meetup_participants` tables
    - _Requirements: 7.1, 7.3, 8.1, 8.2_
  - [x] 2.4 Create migration for vendors and analytics tables


    - Create `vendors` table with location and categories
    - Create `reviews` table for events, hotels, vendors
    - Create `analytics_events` and `daily_metrics` tables
    - Create `notifications` and `push_subscriptions` tables
    - _Requirements: 9.1, 9.5, 12.2_
  - [x] 2.5 Create Row Level Security policies


    - Add RLS policies for user-owned data
    - Add public read policies for events, hotels, vendors
    - Add policies for family group access
    - _Requirements: 10.1_

  - [x] 2.6 Create database functions and triggers

    - Create `update_updated_at_column` trigger
    - Create post like/unlike counter triggers
    - Create hotel availability update trigger
    - Create rating calculation trigger
    - Create badge award trigger
    - _Requirements: 2.5, 7.3, 8.2, 9.5_
- [x] 3. Authentication and User Management
  - [x] 3.1 Create authentication layout and pages
    - Create `app/(auth)/layout.tsx` with centered card design
    - Create `app/(auth)/login/page.tsx` with email/social login
    - Create `app/(auth)/signup/page.tsx` with registration form
    - Create `app/(auth)/forgot-password/page.tsx`
    - _Requirements: 10.1, 10.2_
  - [x] 3.2 Implement Supabase Auth integration
    - Create auth provider component with session management
    - Implement login server action with validation
    - Implement signup server action with profile creation
    - Implement logout server action with session clearing
    - _Requirements: 10.1, 10.2, 10.5_
  - [x]* 3.3 Write property test for session invalidation
    - **Property 27: Session Invalidation on Logout**
    - **Validates: Requirements 10.5**
  - [x] 3.4 Create user profile management
    - Create `app/(app)/profile/page.tsx` with profile display
    - Create `app/(app)/profile/settings/page.tsx` with edit form
    - Implement profile update server action
    - Implement emergency contacts management
    - _Requirements: 10.3, 10.4_
  - [x]* 3.5 Write property test for profile update round-trip
    - **Property 26: Profile Update Round-Trip**
    - **Validates: Requirements 10.3**

- [x] 4. Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.

- [x] 5. Event Discovery System
  - [x] 5.1 Create event data access layer
    - Create `lib/supabase/queries.ts` with typed event queries
    - Implement `getEvents` with filtering and pagination
    - Implement `getEventBySlug` for detail pages
    - Implement `saveEvent` and `unsaveEvent` actions
    - _Requirements: 1.1, 1.4_
  - [x] 5.2 Implement event filtering logic
    - Create `lib/events.ts` with filter functions
    - Implement `filterEventsByCategory` function
    - Implement `filterEventsByDateRange` function
    - Implement `isEventLive` function for live indicator
    - _Requirements: 1.2, 1.5_
  - [x]* 5.3 Write property tests for event filtering
    - **Property 1: Event Category Filtering Consistency**
    - **Validates: Requirements 1.2**
  - [x]* 5.4 Write property test for live event indicator
    - **Property 3: Live Event Indicator Correctness**
    - **Validates: Requirements 1.5**

 - [x] 5.5 Create event UI components
    - Create `components/events/event-card.tsx` with hover effects
    - Create `components/events/event-grid.tsx` with responsive layout
    - Create `components/events/event-filters.tsx` with category pills
    - Create `components/events/countdown-timer.tsx` with animation
    - Create `components/events/live-badge.tsx` with pulsing effect
    - _Requirements: 1.1, 1.5_
  - [x] 5.6 Create event pages
    - Create `app/(app)/events/page.tsx` with grid/list/calendar views
    - Create `app/(app)/events/[id]/page.tsx` with full event details
    - Implement event save/unsave functionality
    - Implement event sharing functionality
    - _Requirements: 1.1, 1.3, 1.4_
  - [x]* 5.7 Write property test for event save round-trip
    - **Property 2: Event Save Round-Trip**
    - **Validates: Requirements 1.4**

- [x] 6. Hotel Booking Marketplace
  - [x] 6.1 Create hotel data access layer
    - Implement `getHotels` with distance calculation
    - Implement `getHotelBySlug` for detail pages
    - Implement `checkAvailability` for date range
    - Implement `createBooking` server action
    - _Requirements: 2.1, 2.2, 2.3_
  - [x] 6.2 Implement hotel search and filtering
    - Create `lib/hotels.ts` with search functions
    - Implement distance-based sorting from carnival center
    - Implement availability filtering by date range
    - Implement price range filtering
    - _Requirements: 2.1, 2.2_
  - [x]* 6.3 Write property tests for hotel search
    - **Property 4: Hotel Search Distance Ordering**
    - **Property 5: Hotel Availability Filtering**
    - **Validates: Requirements 2.1, 2.2**
  - [x] 6.4 Create hotel UI components
    - Create `components/hotels/hotel-card.tsx` with premium design
    - Create `components/hotels/hotel-filters.tsx`
    - Create `components/hotels/availability-calendar.tsx`
    - Create `components/hotels/room-selector.tsx`
    - Create `components/hotels/booking-form.tsx` with validation
    - _Requirements: 2.1, 2.3_
  - [x] 6.5 Create hotel pages
    - Create `app/(app)/hotels/page.tsx` with search and filters
    - Create `app/(app)/hotels/[id]/page.tsx` with booking flow
    - Create `app/(app)/hotels/bookings/page.tsx` for user bookings
    - _Requirements: 2.1, 2.3_

 - [x] 6.6 Implement Paystack payment integration
    - Create `lib/payments/paystack.ts` with API client
    - Implement payment initialization endpoint
    - Implement payment verification webhook
    - Generate unique booking references
    - _Requirements: 2.4_
  - [x]* 6.7 Write property tests for booking
    - **Property 6: Booking Reference Uniqueness**
    - **Property 7: Room Count Invariant**
    - **Validates: Requirements 2.4, 2.5**

- [x] 7. Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.

- [x] 8. Interactive Map System
  - [x] 8.1 Set up Mapbox integration
    - Create `lib/maps/mapbox.ts` with configuration
    - Create `lib/maps/geocoding.ts` for address lookup
    - Configure Mapbox access token
    - _Requirements: 3.1_
  - [x] 8.2 Create map components
    - Create `components/map/map-container.tsx` with Mapbox GL
    - Create `components/map/map-markers.tsx` with custom markers
    - Create `components/map/route-display.tsx` for directions
    - Create `components/map/heatmap-layer.tsx` for crowd density
    - _Requirements: 3.1, 3.2, 3.3, 3.5_
  - [x] 8.3 Implement route calculation
    - Create route calculation using Mapbox Directions API
    - Return estimated time and distance
    - Display turn-by-turn directions
    - _Requirements: 3.3_
  - [x]* 8.4 Write property test for route calculation
    - **Property 8: Route Calculation Completeness**
    - **Validates: Requirements 3.3**
  - [x] 8.5 Create map page
    - Create `app/(app)/map/page.tsx` with full map view
    - Implement layer toggles (events, hotels, vendors, safety)
    - Implement marker click popups with details
    - Implement user location tracking
    - _Requirements: 3.1, 3.2, 3.4_

- [x] 9. AI Concierge System
  - [x] 9.1 Set up OpenAI integration
    - Create `lib/ai/openai.ts` with API client
    - Configure system prompts for carnival context
    - Implement streaming response handling
    - _Requirements: 4.1, 4.2_

- [x] 9.2 Create chat data layer
    - Implement chat session CRUD operations
    - Implement message storage and retrieval
    - Implement conversation history loading
    - _Requirements: 4.1_
  - [x]* 9.3 Write property test for chat history
    - **Property 9: Chat History Persistence**
    - **Validates: Requirements 4.1**
  - [x] 9.4 Implement recommendation engine
    - Create event recommendation based on user preferences
    - Create hotel recommendation based on budget
    - Integrate recommendations into chat responses
    - _Requirements: 4.3, 4.4_
  - [x]* 9.5 Write property tests for recommendations
    - **Property 10: Event Recommendation Relevance**
    - **Property 11: Hotel Recommendation Budget Compliance**
    - **Validates: Requirements 4.3, 4.4**
  - [x] 9.6 Create chat UI components
    - Create `components/ai/chat-interface.tsx` with message bubbles
    - Create message input with send button
    - Implement typing indicator
    - Implement streaming message display
    - _Requirements: 4.1, 4.2_
  - [x] 9.7 Create concierge page
    - Create `app/(app)/concierge/page.tsx`
    - Implement chat session management
    - Implement quick action buttons
    - _Requirements: 4.1_

- [x] 10. Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.

- [x] 11. Safety and Emergency Features
  - [x] 11.1 Create safety data layer
    - Implement emergency contacts CRUD
    - Implement location share creation and retrieval
    - Implement incident report submission
    - _Requirements: 5.1, 5.3, 20.1_
  - [x] 11.2 Implement location sharing
    - Create unique share code generation
    - Implement location update tracking
    - Implement share expiration logic
    - _Requirements: 5.3_
  - [x]* 11.3 Write property test for location share uniqueness
    - **Property 12: Location Share Link Uniqueness**
    - **Validates: Requirements 5.3**
  - [x] 11.4 Create safety UI components
    - Create `components/safety/emergency-button.tsx` with prominent design
    - Create `components/safety/emergency-contacts.tsx`
    - Create `components/safety/location-share.tsx` with QR code
    - Create `components/safety/incident-report.tsx` form
    - _Requirements: 5.1, 5.2, 5.3, 20.1_
  - [x] 11.5 Create safety pages
    - Create `app/(app)/safety/page.tsx` as safety hub
    - Create `app/(app)/safety/emergency/page.tsx` for panic button
    - Create `app/(app)/safety/reports/page.tsx` for incident reporting
    - Create `app/share/[code]/page.tsx` for location viewing
    - _Requirements: 5.1, 5.2, 5.3, 20.1_
  - [x] 11.6 Implement incident reporting
    - Create incident submission with severity levels
    - Implement critical incident alerting
    - Implement incident status tracking
    - _Requirements: 20.1, 20.2, 20.4_
  - [x]* 11.7 Write property tests for incident reporting
    - **Property 39: Incident Report Round-Trip**
    - **Property 40: Critical Incident Alert Routing**
    - **Property 42: Incident Resolution Recording**
    - **Validates: Requirements 20.1, 20.2, 20.4**

- [x] 12. Family Reunification System
  - [x] 12.1 Create family group data layer
    - Implement family group CRUD operations
    - Implement family member management
    - Implement missing status tracking
    - _Requirements: 6.1, 6.3, 6.4_
  - [x]* 12.2 Write property tests for family groups
    - **Property 15: Family Group Creation Round-Trip**
    - **Property 16: Family Alert Propagation**
    - **Validates: Requirements 6.1, 6.3, 6.4**
  - [x] 12.3 Create family UI components
    - Create `components/safety/family-finder.tsx` with member list
    - Create family member card with status indicator
    - Create meeting point selector
    - Create missing alert interface
    - _Requirements: 6.1, 6.2, 6.3_
  - [x] 12.4 Create family reunification page
    - Create `app/(app)/safety/reunification/page.tsx`
    - Implement family map view with member locations
    - Implement mark missing/found functionality
    - Implement meeting point directions
    - _Requirements: 6.1, 6.2, 6.3, 6.4, 6.5_

- [x] 13. Lost and Found with AI Matching
  - [x] 13.1 Create lost/found data layer
    - Implement lost item report submission
    - Implement found item report submission
    - Implement item retrieval and search
    - _Requirements: 5.4_
  - [x]* 13.2 Write property test for lost item round-trip
    - **Property 13: Lost Item Report Round-Trip**
    - **Validates: Requirements 5.4**
  - [x] 13.3 Implement AI image matching
    - Integrate OpenAI Vision API for image analysis
    - Generate visual feature embeddings
    - Implement similarity matching algorithm
    - _Requirements: 19.1, 19.2_
  - [x]* 13.4 Write property test for image processing
    - **Property 37: Lost/Found Image Processing**
    - **Validates: Requirements 19.1, 19.2**
  - [x] 13.5 Implement match notification
    - Create match detection logic (70% confidence threshold)
    - Send notifications to both parties
    - Implement match confirmation flow
    - _Requirements: 5.5, 19.3, 19.4_
  - [x]* 13.6 Write property tests for matching
    - **Property 14: Lost/Found Match Notification**
    - **Property 38: Match Confirmation Status Update**
    - **Validates: Requirements 5.5, 19.3, 19.4**
  - [x] 13.7 Create lost/found UI
    - Create `components/safety/lost-found-form.tsx`
    - Create `components/safety/lost-found-ai-match.tsx`
    - Create lost/found listing page
    - _Requirements: 5.4, 5.5_

- [x] 14. Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.

- [x] 15. Community and Social Features
  - [x] 15.1 Create community data layer
    - Implement post creation and retrieval
    - Implement like and comment operations
    - Implement story creation with expiration
    - _Requirements: 7.1, 7.3, 7.4_
  - [x] 15.2 Implement feed ordering
    - Create reverse chronological sorting
    - Implement infinite scroll pagination
    - _Requirements: 7.2_
  - [x]* 15.3 Write property tests for community
    - **Property 17: Photo Upload Round-Trip**
    - **Property 18: Community Feed Ordering**
    - **Property 19: Engagement Count Accuracy**
    - **Property 20: Story Expiration Logic**
    - **Validates: Requirements 7.1, 7.2, 7.3, 7.4**

 - [x] 15.4 Create community UI components
    - Create `components/community/photo-feed.tsx` with infinite scroll
    - Create `components/community/photo-card.tsx` with engagement
    - Create `components/community/upload-photo.tsx`
    - Create `components/community/stories.tsx` with carousel
    - _Requirements: 7.1, 7.2, 7.4_
  - [x] 15.5 Create community pages
    - Create `app/(app)/community/page.tsx` with feed
    - Create `app/(app)/community/moments/page.tsx` for stories
    - _Requirements: 7.1, 7.2, 7.4_
  - [x] 15.6 Implement meetups
    - Create meetup CRUD operations
    - Implement join/leave functionality
    - Display meetup on map
    - _Requirements: 7.5_
  - [x] 15.7 Create meetup UI
    - Create `components/community/meetup-coordinator.tsx`
    - Create `app/(app)/community/meetups/page.tsx`
    - _Requirements: 7.5_

- [x] 16. Gamification System
  - [x] 16.1 Create gamification data layer
    - Implement badge retrieval
    - Implement user badge awarding
    - Implement challenge tracking
    - Implement leaderboard queries
    - _Requirements: 8.1, 8.2, 8.3, 8.4_
  - [x] 16.2 Implement check-in and points
    - Create event check-in functionality
    - Award points based on event category
    - Track check-in history
    - _Requirements: 8.1_
  - [x]* 16.3 Write property test for check-in points
    - **Property 21: Check-in Points Award**
    - **Validates: Requirements 8.1**
  - [x] 16.4 Implement badge awarding
    - Create badge requirement checking
    - Award badges when requirements met
    - Create achievement card generation for rare badges
    - _Requirements: 8.2, 8.5_
  - [x]* 16.5 Write property test for badge awarding
    - **Property 22: Badge Award on Requirement Met**
    - **Validates: Requirements 8.2**
  - [x] 16.6 Implement leaderboard
    - Create leaderboard sorting by points
    - Highlight current user position
    - _Requirements: 8.3_
  - [x]* 16.7 Write property test for leaderboard
    - **Property 23: Leaderboard Ordering**
    - **Validates: Requirements 8.3**
  - [x] 16.8 Create gamification UI components
    - Create `components/gamification/badge-showcase.tsx`
    - Create `components/gamification/badge-unlock-modal.tsx` with animation
    - Create `components/gamification/leaderboard.tsx`
    - Create `components/gamification/challenge-card.tsx`
    - _Requirements: 8.2, 8.3, 8.4_
  - [x] 16.9 Create gamification pages
    - Create `app/(app)/gamification/page.tsx` for badge collection
    - Create `app/(app)/gamification/leaderboard/page.tsx`
    - Create `app/(app)/gamification/challenges/page.tsx`
    - _Requirements: 8.2, 8.3, 8.4_

- [x] 17. Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.

- [x] 18. Vendor Marketplace
  - [x] 18.1 Create vendor data layer
    - Implement vendor listing with filters
    - Implement vendor detail retrieval
    - Implement vendor search by item
    - Implement review submission
    - _Requirements: 9.1, 9.2, 9.3, 9.5_
  - [x]* 18.2 Write property tests for vendors
    - **Property 24: Vendor Search Relevance**
    - **Property 25: Vendor Rating Calculation**
    - **Validates: Requirements 9.3, 9.5**
  - [x] 18.3 Create vendor UI components
    - Create `components/vendors/vendor-card.tsx`
    - Create `components/vendors/vendor-filters.tsx`
    - Create review submission form
    - _Requirements: 9.1, 9.2_
  - [x] 18.4 Create vendor pages
    - Create `app/(app)/vendors/page.tsx` with marketplace
    - Create `app/(app)/vendors/[id]/page.tsx` with details
    - _Requirements: 9.1, 9.2_

- [x] 19. Analytics Dashboard
  - [x] 19.1 Create analytics data layer
    - Implement event tracking function
    - Implement metrics aggregation queries
    - Implement booking analytics queries
    - _Requirements: 12.2, 12.3, 12.4_
  - [x]* 19.2 Write property tests for analytics
    - **Property 29: Analytics Event Recording**
    - **Property 30: Booking Analytics Calculation**
    - **Validates: Requirements 12.2, 12.3, 12.4**
  - [x] 19.3 Create analytics UI components
    - Create `components/analytics/metrics-dashboard.tsx`
    - Create `components/analytics/revenue-chart.tsx`
    - Create `components/analytics/user-growth-chart.tsx`
    - _Requirements: 12.1, 12.3, 12.4_
  - [x] 19.4 Create analytics page
    - Create `app/(app)/analytics/page.tsx` for organizers
    - Implement date range filtering
    - Implement CSV/PDF export
    - _Requirements: 12.1, 12.5_

- [x] 20. Multi-Language Support
  - [x] 20.1 Set up i18next configuration
    - Install and configure i18next
    - Create translation files for English
    - Create translation files for Pidgin English
    - Create translation files for Efik, Igbo, Yoruba, Hausa
    - _Requirements: 17.1, 17.2, 17.3_
  - [x] 20.2 Implement language switching
    - Create language switcher component
    - Implement language preference persistence
    - Implement fallback to English for missing translations
    - _Requirements: 17.1, 17.4, 17.5_
  - [x]* 20.3 Write property tests for i18n
    - **Property 33: Language Preference Persistence**
    - **Property 34: Language Fallback Behavior**
    - **Validates: Requirements 17.1, 17.4, 17.5**

- [x] 21. Accessibility Features
  - [x] 21.1 Implement voice commands
    - Create `components/ai/voice-command.tsx`
    - Implement command parsing and navigation
    - _Requirements: 16.1, 16.2_
  - [x]* 21.2 Write property test for voice commands
    - **Property 31: Voice Command Interpretation**
    - **Validates: Requirements 16.2**
  - [x] 21.3 Implement high contrast mode
    - Create high contrast color scheme
    - Implement mode toggle
    - Ensure WCAG 2.1 AA compliance
    - _Requirements: 16.4_
  - [x]* 21.4 Write property test for accessibility
    - **Property 32: High Contrast Color Compliance**
    - **Validates: Requirements 16.4**
  - [x] 21.5 Implement keyboard navigation
    - Add focus indicators to all interactive elements
    - Ensure logical tab order
    - Add skip links
    - _Requirements: 16.5_

- [x] 22. Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.
- [x] 23. Real-Time Features
  - [x] 23.1 Set up Supabase Realtime
    - Configure realtime subscriptions
    - Implement WebSocket connection management
    - _Requirements: 18.1_
  - [x] 23.2 Implement real-time updates
    - Create crowd density heatmap updates
    - Create safety alert broadcasting
    - Create family location updates
    - _Requirements: 18.3, 18.4, 18.5_
  - [x]* 23.3 Write property tests for real-time
    - **Property 35: Real-Time Heatmap Update**
    - **Property 36: Safety Alert Broadcast**
    - **Validates: Requirements 18.3, 18.4**

- [x] 24. PWA and Offline Support
  - [x] 24.1 Create service worker
    - Implement asset caching strategy
    - Implement data caching for offline use
    - Implement background sync for offline actions
    - _Requirements: 11.1, 11.2, 11.4_
  - [x]* 24.2 Write property test for offline sync
    - **Property 28: Offline Action Sync**
    - **Validates: Requirements 11.4**
  - [x] 24.3 Create PWA manifest
    - Create `public/manifest.json` with icons
    - Configure splash screens
    - Configure app shortcuts
    - _Requirements: 11.3_
  - [x] 24.4 Create offline UI components
    - Create `components/shared/offline-indicator.tsx`
    - Create `components/shared/install-prompt.tsx`
    - _Requirements: 11.2, 11.3_

- [x] 25. Landing Page with Animations
  - [x] 25.1 Set up GSAP and animation utilities
    - Configure GSAP with ScrollTrigger plugin
    - Create `components/animations/gsap-wrapper.tsx`
    - Create `components/animations/scroll-reveal.tsx`
    - Create `components/animations/magnetic-button.tsx`
    - _Requirements: 13.1, 13.2, 13.3_
  - [x] 25.2 Create hero section
    - Create `components/landing/hero-section.tsx` with particle effects
    - Implement text reveal animations
    - Implement animated gradient background
    - _Requirements: 13.1_
  - [x] 25.3 Create features showcase
    - Create `components/landing/features-showcase.tsx`
    - Implement horizontal scroll with ScrollTrigger
    - Implement 3D tilt effects on cards
    - _Requirements: 13.4_

- [x] 25.4 Create stats and CTA sections
    - Create `components/landing/stats-counter.tsx` with animated numbers
    - Create `components/landing/cta-section.tsx`
    - _Requirements: 13.5_
  - [x] 25.5 Assemble landing page
    - Create `app/(marketing)/page.tsx`
    - Integrate all landing page sections
    - Optimize for performance
    - _Requirements: 13.1, 13.2, 13.3, 13.4, 13.5_

- [x] 26. 3D Map Features
  - [x] 26.1 Implement 3D terrain
    - Configure Mapbox 3D terrain
    - Add extruded buildings layer
    - Add atmospheric sky layer
    - _Requirements: 14.1, 14.5_
  - [x] 26.2 Create animated markers
    - Implement pulsing marker animation
    - Add category-specific icons
    - _Requirements: 14.2_
  - [x] 26.3 Implement 3D route display
    - Create animated route line
    - Add gradient coloring
    - _Requirements: 14.4_

- [x] 27. Layout and Navigation
  - [x] 27.1 Create app layout components
    - Create `components/layout/navbar.tsx` with glassmorphic design
    - Create `components/layout/mobile-nav.tsx` with slide-in
    - Create `components/layout/bottom-nav.tsx` for mobile
    - Create `components/layout/footer.tsx`
    - _Requirements: All_
  - [x] 27.2 Create app layouts
    - Create `app/(marketing)/layout.tsx`
    - Create `app/(auth)/layout.tsx`
    - Create `app/(app)/layout.tsx` with navigation
    - _Requirements: All_
  - [x] 27.3 Create shared components
    - Create `components/shared/loading-skeleton.tsx`
    - Create `components/shared/error-boundary.tsx`
    - Create `components/shared/empty-state.tsx`
    - Create `components/shared/confirmation-modal.tsx`
    - _Requirements: All_

- [x] 28. Error Handling and Edge Cases
  - [x] 28.1 Implement error handling utilities
    - Create `lib/errors.ts` with custom error classes
    - Create error boundary component
    - Implement API error response format
    - _Requirements: All_
  - [x] 28.2 Create error pages
    - Create `app/error.tsx` global error page
    - Create `app/not-found.tsx` 404 page
    - Create `app/loading.tsx` global loading state
    - _Requirements: All_

- [x] 29. Seed Data and Testing
  - [x] 29.1 Create comprehensive seed data
    - Create seed data for events (various categories, dates)
    - Create seed data for hotels (various price ranges)
    - Create seed data for vendors
    - Create seed data for badges and challenges
    - Create seed data for safety contacts
    - _Requirements: All_
  - [x]* 29.2 Write E2E tests for critical flows
    - Test user registration and login flow
    - Test event discovery and saving flow
    - Test hotel search and booking flow
    - Test emergency button activation
    - _Requirements: All_

- [x] 30. Final Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.

- [x] 31. Performance Optimization
  - [x] 31.1 Implement image optimization
    - Configure Next.js Image component
    - Set up Cloudinary for image processing
    - Implement lazy loading for images
    - _Requirements: 13.1_
  - [x] 31.2 Implement code splitting
    - Configure dynamic imports for heavy components
    - Implement route-based code splitting
    - _Requirements: 11.1_
  - [x] 31.3 Configure caching
    - Set up Redis caching for API responses
    - Configure browser caching headers
    - Implement stale-while-revalidate patterns
    - _Requirements: 11.1_

- [x] 32. Final Integration and Polish
  - [x] 32.1 Integrate all features
    - Connect all pages with navigation
    - Ensure consistent styling across app
    - Test all user flows end-to-end
    - _Requirements: All_
  - [x] 32.2 Final accessibility audit
    - Run automated accessibility tests
    - Test with screen readers
    - Verify keyboard navigation
    - _Requirements: 16.4, 16.5_
  - [x] 32.3 Performance audit
    - Run Lighthouse audits
    - Optimize Core Web Vitals
    - Test on low-end devices
    - _Requirements: 11.1, 13.1_

- [x] 33. Final Checkpoint - Ensure all tests pass
  - Ensure all tests pass, ask the user if questions arise.